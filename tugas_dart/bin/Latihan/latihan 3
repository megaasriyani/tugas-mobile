import 'dart:io';

void main() {
  print("=== Aplikasi Kalkulator Sederhana ===");
  print("Pilih operasi:");
  print("1. Penjumlahan");
  print("2. Pengurangan");
  print("3. Pembagian");

  stdout.write("Masukkan pilihan (1/2/3): ");
  String? pilihan = stdin.readLineSync();

  if (pilihan == "1") {
    // Konfirmasi sebelum masuk penjumlahan
    stdout.write("Apakah Anda mau melanjutkan aplikasi ini? (y/n): ");
    String? konfirmasi = stdin.readLineSync();

    if (konfirmasi != null && konfirmasi.toLowerCase() == "y") {
      // Operasi Penjumlahan
      stdout.write("Masukkan angka pertama: ");
      double? a = double.tryParse(stdin.readLineSync() ?? "");

      stdout.write("Masukkan angka kedua: ");
      double? b = double.tryParse(stdin.readLineSync() ?? "");

      if (a != null && b != null) {
        double hasil = a + b;
        print("Hasil penjumlahan: $hasil");
      } else {
        print("Input tidak valid!");
      }
    } else {
      print("Aplikasi dihentikan.");
    }
  } else if (pilihan == "2") {
    // Operasi Pengurangan
    stdout.write("Masukkan angka pertama: ");
    double? a = double.tryParse(stdin.readLineSync() ?? "");

    stdout.write("Masukkan angka kedua: ");
    double? b = double.tryParse(stdin.readLineSync() ?? "");

    if (a != null && b != null) {
      double hasil = a - b;
      print("Hasil pengurangan: $hasil");
    } else {
      print("Input tidak valid!");
    }
  } else if (pilihan == "3") {
    // Operasi Pembagian
    stdout.write("Masukkan angka pertama: ");
    double? a = double.tryParse(stdin.readLineSync() ?? "");

    stdout.write("Masukkan angka kedua: ");
    double? b = double.tryParse(stdin.readLineSync() ?? "");

    if (a != null && b != null) {
      if (b != 0) {
        double hasil = a / b;
        print("Hasil pembagian: $hasil");
      } else {
        print("Error: Tidak bisa membagi dengan nol!");
      }
    } else {
      print("Input tidak valid!");
    }
  } else {
    print("Pilihan tidak valid.");
  }
}